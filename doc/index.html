<!DOCTYPE html>
<html lang="zh-CN">
  	<head>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0">
		<meta name="Keywords" content="">
		<meta name="description" content="">
		<title>RJTX Documentation</title>
		<link rel="shortcut icon" href="../img/logo.ico" type="image/x-icon"/>
		 <link rel="stylesheet" href="../fonts/font-awesome.css"/>
	    <!--字体图标 iconfont icon-*-->
	    <link rel="stylesheet" href="../fonts/iconfont.css"/>
	    <!--bootstrap-->
	    <link rel="stylesheet" href="../js/bootstrap/bootstrap.css"/>
	    <!--bootstrap过滤样式-->
	    <link rel="stylesheet" href="../js/bootstrap/bootstrapfiller.css"/>
	    <!--checkbox/radio修饰-->
	    <link rel="stylesheet" href="../js/icheck/skins/all.css"/>
	    <!--loading加载动画-->
	    <link rel="stylesheet" href="../js/loading/loading.css"/>
	    <!--sweetalert弹框提示-->
	    <link rel="stylesheet" href="../js/sweetalert/sweetalert.css"/>
	    <!--通用动画样式-->
	    <link rel="stylesheet" href="../css/animate.css"/>
	    <!--时间插件-->
		<link rel="stylesheet" href="../js/bootstrapDatetimepicker/bootstrap-datetimepicker.css" />
	    <!--bootstrap表格-->
		<link rel="stylesheet" href="../js/bootstrapTable/bootstrap-table.css" />
	    <!--ztree树插件-->
	    <link rel="stylesheet" href="../js/ztree/css/awesomeStyle/awesome.css" type="text/css">
		<link rel="stylesheet" href="../js/ztree/css/zTreeStyle/zTreeStyle.css" />
	    <!--颜色插件-->
		<link rel="stylesheet" href="../js/colorpicker/css/jquery-ui.css" />
		<link rel="stylesheet" href="../js/colorpicker/css/evol-colorpicker.css" />
	    <!--基础样式文件-->
		<link rel="stylesheet" href="../css/common.css"/>

		<style>
		/* main start */
		body{width: 1005;overflow-x: hidden;height: 100%;}
		#main{height: 100%;}
		.home_header{position: fixed;left: 0;top: 0;width: 100%;z-index: 1;}
		.home_header .navbar-default{background-color: #31373f;border: 0;border-radius: 0;}
		.icon-bg{color: #fff;position: relative;top: 0px;float: left;font-size: 30px;}
		.hone_sysname{color:#fff;font-size:18px;padding-left:5px;font-family: Microsoft JhengHei;font-weight: bold;}
		.home_header .navbar-nav li a{color: #bdbabaf7;}
		.home_header .navbar-nav li a:hover{color: #f9f9f9; background-color: rgb(43, 41, 41);}
		.home_header .navbar-nav li a:active{color: #f9f9f9;background-color: rgb(22, 22, 22);}
		.home_header .navbar-nav{padding-left:20px;}
		.home_header .navbar-header .navbar-brand i{font-size: 24px;}
		.home_header .navbar-header .navbar-brand span{font-size: 16px;}
		.home_header .navbar-nav ul li a:focus{background-color: red;}
		.home_header .navbar-inverse .navbar-nav > .open > a, .navbar-inverse .navbar-nav > .open > a:hover, .navbar-inverse .navbar-nav > .open > a:focus{background-color: rgb(22, 22, 22);}
		.home_header .navbar-nav .dropdown-menu{background-color: rgb(22, 22, 22);width: 100%;border: 0;}
		.home_content_left{border-right: 1px solid #ddd;position: fixed;top: 50px;bottom: 0;width: 221px;}
		.home_content_left .home_content_box{padding: 15px 15px 0 15px;height: 100%;}
		.home_content_right{padding-left: 220px;padding-top: 50px;}
		.home_content_left_input .input-group {border: 1px solid #ddd;border-radius: 3px;}
		.home_content_left_input .input-group i {font-size: 14px;}
		.home_content_left_input .input-group span{border: 0;}
		.home_content_left_input .input-group input{border: 0;padding-left: 0;}
		/* end main */
		
		/* suggestion start */
		.suggestion{
			display: none;
			position: absolute;
			top: 96px;
			left: 16px;
			width: 189px;
			text-align: left;
			max-height: 254px;
			cursor: default;
			z-index: 9999;	
			overflow: hidden;
			overflow-y: auto;
			box-sizing: border-box;		
			background-color: #fff;
			border: 1px solid rgb(216, 214, 214);
		}
		.suggestion_column{
			position: relative;
			line-height: 23px;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			font-size: 1.02em;
			color: #333;
		}
		.suggestion_column a{
			width: 100%;
			display: block;
			padding-left: 5px;
		}
		.suggestion_column a:hover{
			background-color: #81d4fa;
    		color: #fff;			
		}
		/* end suggestion */
		</style>
	</head>
	<body>
	<div id="main">
	<!-- 头部菜单栏 -->
		<div class="home_header">
			<nav class="navbar navbar-default navbar-inverse navbar-fixed-top"><!--navbar-inverse ,navbar-fixed-bottom||navbar-fixed-top||navbar-static-top--->
					<div class="container-fluid">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target= "#bs-example-navbar-collapse-1" aria-expanded="false">
					        <span class="icon-bar"></span>
					        <span class="icon-bar"></span>
							<span class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="javascript:;">
								<span class="hone_sysname">RJTX</span>
							</a>
						</div>
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav">
								<li> <a href="javascript:;">Documentation1</a></li>
								<!--<li class="dropdown">
									<a href="javascript:;"  class="dropdown-toggle" data-toggle="dropdown">Dropdown
										<span class="caret"></span>
									</a>
									<ul class="dropdown-menu">
										<li ><a href="javascript:;">items</a></li>
										<li ><a href="javascript:;">items</a></li>
									</ul>
								</li>-->
							</ul>
						</div>
					</div>
				</nav>
		</div>
	<!-- /头部菜单栏 -->
	<!-- content -->
		<div class="home_content">
			<!-- input搜索框 -->
			<div class="home_content_left">
				<div class="home_content_box" id="js_menuBox">
					<div class="home_content_left_input">
						<div class="input-group input-group-sm">
							<span class="input-group-addon" id="sizing-addon3"><i class="iconfont">&#xe6f3;</i></span>
							<input type="text" class="form-control" onfocus="showSuggestion()" onblur="hiddenSuggestion()" id="inputOne" placeholder="配置项模糊搜索" aria-describedby="sizing-addon3">
						</div>
					</div>
					<style>
						.menu_items{
							overflow: hidden;
						}
						.menu_items li{
							padding-left: 15px;
						}
						.menu_items i{
							float: left;
							margin-left: -15px;
							line-height: 25px;
							width: 18px;
							text-align: center;
							font-size: 20px;
							cursor: pointer;
							transition: transform .2s ease-in-out;
						}
						.menu_items li>span{
							display:block;
							line-height: 25px;
							font-size: 12px;
							text-align: left;
							white-space: nowrap;
							padding: 0 5px;
							border-radius: 1px;
							cursor: pointer;
						}
						.menu_items li>span .value{
							color: #999;
						}
						.menu_items li>span:hover{
							background-color: #81d4fa;
						}
						.menu_items li>span.active{
							background-color: #29b6f6;
							color: #fff;
						}
						.menu_items li>span.active .value{
							color: #fff;
						}
						.menu_items i:hover{
							color: #aaa;
						}
						.menu_items ul{
							display: none;
						}
					</style>
					<ul class="menu_items m-t js_menu_items">
						<li>
							<i class="fa fa-angle-right js_menu_icon"></i>
							<span class="js_menu_item" data-url = "1">
								<span class="key">rj:</span>
								<span class="value">{ ... }</span>
							</span>
							<ul>
								<li>
									<i class="fa fa-angle-right js_menu_icon"></i>
		                        	<span class="js_menu_item">
										<span class="key">rjtx:</span>
										<span class="value">{ ... }</span>
									</span>
									<ul>
										<li data-mark ="1">
											<i class="fa fa-angle-right js_menu_icon"></i>
				                        	<span class="js_menu_item" data-url = "page/home.html">
												<span class="key">rjtx:</span>
												<span class="value">{ ... }</span>
											</span>
										</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
			<div class="home_content_right js_home_content">
			</div>
			</div>
		</div>
	</div>
	<!--suggestion star -->
	<div class="suggestion" id="test">
		<ul>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li  class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>
			<li class="suggestion_column"><a href="javascript:;">0000</a></li>

		</ul>
	</div>
	<!-- end suggestion -->
		<!--jQuery-->
		<script type="text/javascript" src="../js/jquery.js" ></script>
		<script type="text/javascript" src="../js/jquery.slimscroll.min.js" ></script>
		<!--颜色插件  jquery-ui 与boostartp样式有冲突，注意引入顺序-->
		<script type="text/javascript" src="../js/colorpicker/js/jquery-ui.min.js" ></script>
		<script type="text/javascript" src="../js/colorpicker/js/evol-colorpicker.js" ></script>
		<!--bootstrap-->
		<script type="text/javascript" src="../js/bootstrap/bootstrap.js" ></script>
		<!--echart图表插件-->
		<script type="text/javascript" src="../js/echart/echarts.js"></script>
		<script type="text/javascript" src="../js/echart/guangdong.js"></script>
		<!--bootstrap 文件上传-->
		<script type="text/javascript" src="../js/bootstrap/bootstrap-prettyfile.js" ></script>
		<!--checkbox/radio修饰-->
		<script type="text/javascript" src="../js/icheck/icheck.js" ></script>
		<!--loading加载-->
		<script type="text/javascript" src="../js/loading/loading.js" ></script>
		<!--sweetalert提示框-->
		<script type="text/javascript" src="../js/sweetalert/sweetalert-dev.js" ></script>
		<!--tip 错误操作提示框-->
		<script type="text/javascript" src="../js/tip.js" ></script>
		<!--时间插件-->
		<script type="text/javascript" src="../js/bootstrapDatetimepicker/moment-with-locales.js" ></script>
		<script type="text/javascript" src="../js/bootstrapDatetimepicker/bootstrap-datetimepicker.min.js" ></script>
		<!--bootstrap表格-->
		<script type="text/javascript" src="../js/bootstrapTable/bootstrap-table.js" ></script>
		<script type="text/javascript" src="../js/bootstrapTable/locale/bootstrap-table-zh-CN.js" ></script>
		<!--验证插件-->
		<script type="text/javascript" src="../js/jQueryValidation/jquery.validate.js" ></script>
		<script type="text/javascript" src="../js/jQueryValidation/jquery.validate.messages_zh.js"></script>
		<!--ztree树插件-->
		<script type="text/javascript" src="../js/ztree/js/jquery.ztree.core.js" ></script>
		<script type="text/javascript" src="../js/ztree/js/jquery.ztree.exedit.js" ></script>
		<script type="text/javascript" src="../js/ztree/js/jquery.ztree.excheck.js" ></script>
		<script type="text/javascript" src="../js/ztree/js/jquery.ztree.exhide.js" ></script>
		<script type="text/javascript" src="../js/ztree/js/ztree.search.js" ></script>
		<!--工具js-->
		<script type="text/javascript" src="../js/util.js"></script>
		<!--业务通用js-->
		<script type="text/javascript" src="../js/rjtx.js" ></script>
	<script type="text/javascript" src="../js/index.js" ></script>
	<script>
		//焦点
		function showSuggestion(){
			document.getElementById("test").style.display = "block";
		}
		function hiddenSuggestion(){
			document.getElementById("test").style.display = "none";
		}
		//滚动条
		$("#js_menuBox").slimScroll({
				height:"100%",
				width:"100%",
				color: '#aaa',
				size: '7px',
				disableFadeOut:"true"
			});
		var index = {
			callback:null,
	   		//设置首页
	   		home:"page/rj.ajax.html",
	   		init(){
	   			this.dataInit();
	   			this.menuClick();
	   			this.hashUrl();
	   		},
			hashUrl(){
				let $this = this;
				window.onpopstate = function(e){
					if(window.location.hash){
						$this.cssDeal();
						rj.load(".js_home_content",window.location.hash.slice(1)+".html",$this.callback||null);
					}else{
						$this.cssDeal();
						rj.load(".js_home_content",$this.home);
					}
				}
				if(!window.location.hash){
					//默认页面设置
					$this.cssDeal();
					rj.load(".js_home_content",$this.home);
				}else{
					$this.cssDeal();
					rj.load(".js_home_content",window.location.hash.slice(1)+".html");
				}
			},
			jumpMenu(url,callback){
				let hash = "";
				if(url){
					if(url.lastIndexOf(".")!=-1){
						url = url.slice(0,url.lastIndexOf("."));
						hash=url;
					}
				}
				this.callback = callback;
				window.location.hash = "#"+hash;
			},
			cssDeal(){
				let currUrl = window.location.hash?window.location.hash.slice(1)+".html":this.home;
				$(".js_menu_item").removeClass("active");
				$("[data-url]").each(function(index,dom){
					if($(dom).data("url")==currUrl){
						$(this).addClass("active");
						let liDoms = $(this).parents("li");
						liDoms.each(function(index,val){
							if(!(index==0&&$(val).find(">.js_menu_icon").length>0)){
								//是关闭的才打开
								if($(val).find(">.js_menu_icon").length>0&&!$(val).find(">.js_menu_icon")[0].mark){
									$(val).find("> .js_menu_icon").trigger("click");
								}
							}
						});
						return false;
					}
				});
			},
			menuClick(){
				let $this = this;
				//icon
				$(".js_menu_items").on("click",".js_menu_icon",function(){
					if(!this.mark){
						$(this).css("transform","rotate(90deg)");
						$(this).siblings("ul").slideDown("fast")
						this.mark=true;
						//value
						$(this).siblings(".js_menu_item").find(".value").text("{");
					}else{
						$(this).css("transform","rotate(0deg)");
						$(this).siblings("ul").slideUp("fast")
						this.mark=false;
						$(this).siblings(".js_menu_item").find(".value").text("{ ... }");
					}
				});
				//menu
				$(".js_menu_items").on("click",".js_menu_item",function(e,fn){
					$(".js_menu_item").removeClass("active");
					$(this).addClass("active");
					$this.jumpMenu($(this).data("url"),fn);
				});
			},
			dataInit(){
				let loading = new Xloading(".home_content_left");
				$(".js_menu_items").html(getHtml({rj:rj},"page/"));
				loading.destroy()
				function getHtml(val,path,jsonpath=[],leavl=0){
					let html ="";
					let url ="";
					if(isJSON(val)){
						//key 排序
						let keys = Object.keys(val).sort()
						//过滤私有方法
						keys = keys.filter(function(val){
							return val.indexOf("_")!=0;
						});
						for(var key of keys){
							jsonpath[leavl]=key;
							url = path+jsonpath.join(".")+".html"
							if(isJSON(val[key])){
								html +=`<li>
									<i class="fa fa-angle-right js_menu_icon"></i>
									<span class="js_menu_item" data-url="${url}">
										<span class="key">${key}:</span>
										<span class="value">{ ... }</span>
									</span>
									<ul>
									${getHtml(val[key],path,jsonpath,++leavl)}
									</ul>
								</li> `
							}else{
								html +=`<li>
										<span class="js_menu_item" data-url="${url}">
											<span class="key">${key}:</span>
											<span class="value">${(typeof val[key]=="function")?"function":val[key]}</span>
										</span>
									</li>`
							}
						}
					}
					return html
				}
				function isJSON(val){
					if(typeof val == "object"&&val!==null&&!Array.isArray(val)){
						return true;
					}
					return false;
				}
				
			}
		}
		index.init();
	</script>
	</body>
</html>
