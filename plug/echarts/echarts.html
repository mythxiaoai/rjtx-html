<div class="p-m">
    <div class="row">
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">饼图</div>
                </div>
                <div class="panel-body">
                    <div id="echart1" style="height: 340px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">环形图</div>
                </div>
                <div class="panel-body">
                    <div id="echart2" style="height: 340px;"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">雷达图</div>
                </div>
                <div class="panel-body">
                    <div id="echart3" style="height: 340px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">条形图</div>
                </div>
                <div class="panel-body">
                    <div id="echart4" style="height: 340px;"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">柱状图</div>
                </div>
                <div class="panel-body">
                    <div id="echart5" style="height: 340px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">南丁格尔玫瑰图</div>
                </div>
                <div class="panel-body">
                    <div id="echart6" style="height: 340px;"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-title">柱状图</div>
                </div>
                <div class="panel-body">
                    <div id="echart7" style="height: 500px;"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel">
        <div class="panel-heading">
            <div class="panel-title">hover改变echart图</div>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-7">
                    <div class="js_leftchart" style="height: 400px;"></div>
                </div>
                <div class="col-md-5" style="border-left: 1px solid #eee;">
                    <div class="js_rightchart" style="height: 400px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var echartDemo = {
        data:[
            {
                "工单规范率":"65.17%",
                "及时接单量":1254,
                "日均派单量":"418",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":42,
                "派单目标完成率":"75.17%",
                "评估通过率":"0.00%",
                "地市":"佛山市",
                "月份":"2019-04",
                "派单量":1254,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"0.00%",
                "及时接单量":62,
                "日均派单量":"31",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"0.00%",
                "及时处理量":0,
                "派单目标完成率":"25.33%",
                "评估通过率":"0.00%",
                "地市":"佛山市",
                "月份":"2019-04",
                "派单量":62,
                "月工单目标量":0,
                "类别":"低端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"82.08%",
                "及时接单量":1810,
                "日均派单量":"603",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":592,
                "派单目标完成率":"35.33%",
                "评估通过率":"0.00%",
                "地市":"广州市",
                "月份":"2019-04",
                "派单量":1810,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"0.00%",
                "及时接单量":166,
                "日均派单量":"56",
                "公司":"润建",
                "评估完成率":"35.33%",
                "评估通过量":59,
                "日工单目标量":0,
                "评估完成量":59,
                "处理及时率":"0.00%",
                "及时处理量":0,
                "派单目标完成率":"10.00%",
                "评估通过率":"35.33%",
                "地市":"广州市",
                "月份":"2019-04",
                "派单量":167,
                "月工单目标量":0,
                "类别":"低端",
                "接单及时率":"99.40%"
            },
            {
                "工单规范率":"78.60%",
                "及时接单量":351,
                "日均派单量":"117",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":263,
                "派单目标完成率":"47.2%",
                "评估通过率":"0.00%",
                "地市":"深圳市",
                "月份":"2019-04",
                "派单量":351,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"91.18%",
                "及时接单量":131,
                "日均派单量":"44",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":50,
                "派单目标完成率":"72.52%",
                "评估通过率":"0.00%",
                "地市":"清远市",
                "月份":"2019-04",
                "派单量":131,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"0.00%",
                "及时接单量":8,
                "日均派单量":"3",
                "公司":"润建",
                "评估完成率":"25.00%",
                "评估通过量":2,
                "日工单目标量":0,
                "评估完成量":2,
                "处理及时率":"0.00%",
                "及时处理量":0,
                "派单目标完成率":"12.12%",
                "评估通过率":"25.00%",
                "地市":"清远市",
                "月份":"2019-04",
                "派单量":8,
                "月工单目标量":0,
                "类别":"低端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"75.00%",
                "及时接单量":229,
                "日均派单量":"115",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":33,
                "派单目标完成率":"71%",
                "评估通过率":"0.00%",
                "地市":"潮州市",
                "月份":"2019-04",
                "派单量":229,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"77.52%",
                "及时接单量":185,
                "日均派单量":"62",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":45,
                "派单目标完成率":"37.52%",
                "评估通过率":"0.00%",
                "地市":"茂名市",
                "月份":"2019-04",
                "派单量":185,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"85.71%",
                "及时接单量":73,
                "日均派单量":"24",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"100.00%",
                "及时处理量":11,
                "派单目标完成率":"85.71%",
                "评估通过率":"0.00%",
                "地市":"阳江市",
                "月份":"2019-04",
                "派单量":73,
                "月工单目标量":0,
                "类别":"中端",
                "接单及时率":"100.00%"
            },
            {
                "工单规范率":"0.00%",
                "及时接单量":14,
                "日均派单量":"5",
                "公司":"润建",
                "评估完成率":"0.00%",
                "评估通过量":0,
                "日工单目标量":0,
                "评估完成量":0,
                "处理及时率":"0.00%",
                "及时处理量":0,
                "派单目标完成率":"0.00%",
                "评估通过率":"0.00%",
                "地市":"阳江市",
                "月份":"2019-04",
                "派单量":14,
                "月工单目标量":0,
                "类别":"低端",
                "接单及时率":"100.00%"
            }
        ],
        init(){
            this.chart1();
            this.chart2();
            this.chart3();
            this.chart4();
            this.chart5();
            this.chart6();
            this.chart7();
            this.hoverChart(this.data);
            let firstdat=[];
            this.data.map(v=>{
                if(v["类别"] == "中端"){
                    firstdat.push(v["地市"]);
                }
            });
            this.showechart(firstdat[0]);
        },
        hoverChart(res){
            let $this = this;
            let newdata = res;
            let chartLeft = $(".js_leftchart")[0];
            let area= [],data=[],showdata="";
            newdata.map(v=>{
                if(v["类别"] == "中端"){
                    showdata = v;
                    area.push(v["地市"]);
                    data.push(v["派单量"])
                }
            });
            let option = {
                    title: {
                        text: '项目中端工单量',
                        x: 'center',
                        top: 10
                    },
                    color: ['#3398DB'],
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    grid: {
                        left: '5%',
                        right: '6%',
                        bottom: '3%',
                        containLabel: true,
                        bottom: 10 
                    },
                    xAxis : [
                        {   
                            name : '项目',
                            type : 'category',
                            data: area,
                            axisLabel: {
                                interval:0,
                                rotate:40
                            },      
                            axisTick: {
                                alignWithLabel: true
                            }
                        }
                    ],
                    yAxis : [
                        {
                            name : '工单量',                    
                            type : 'value'
                        }
                    ],
                    series : [
                        {
                            name:'工单量',
                            type:'bar',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'top'
                                }
                            },
                            barWidth: '30%',
                            data: data
                        }
                    ]
                };
            let chart1 = echarts.init(chartLeft);
            chart1.setOption(option);
            chart1.on('mouseover', function (ev) { 
                echarts.dispose($(".js_rightchart")[0]);
                $this.showechart(ev.name);
            });
            $(window).resize(function(){
                chart1.resize();
                if($(".js_rightchart")[0]){
                    echarts.init($(".js_rightchart")[0]).resize();
                }
            });

        },
        showechart(name){
            let chartRight = $(".js_rightchart")[0];
            let chart2 = echarts.init(chartRight);
            let newdata = "";
            this.data.forEach(json=>{
                if(json["地市"] == name && json["类别"] == "中端"){
                    newdata = json;
                }
            });
            let option = {
                title: {
                    text: newdata["地市"],
                    subtext: '项目中端工单量详细分布图',
                    top: 10
                },
                tooltip: {
                    formatter: function (param) {  
                        return `
                            ${param.marker}${newdata["地市"]}项目完成情况<br/>
                            接单及时率：${newdata["接单及时率"]}<br/>
                            处理及时率：${newdata["处理及时率"]}<br/>
                            评估完成率：${newdata["评估完成率"]}<br/>
                            评估通过率：${newdata["评估通过率"]}<br/>
                            工单规范率：${newdata["工单规范率"]}<br/>
                            派单目标完成率：${newdata["派单目标完成率"]}<br/>
                        `
                    }
                },
                legend: {
                    data: ['项目完成情况'],
                    top: 35
                },
                color:["#59c4e6"],
                radar: {
                    name: {
                        textStyle: {
                            color: '#59c4e6',
                            borderRadius: 3,
                            padding: [3, 5]
                        }
                    },
                    radius:"50%",
                    indicator: [
                        { name: '接单及时率\n'+newdata["接单及时率"], max: 100, color:'#3fb1e3'},
                        { name: '处理及时率\n'+newdata["处理及时率"], max: 100, color:'#6be6c1'},
                        { name: '评估完成率\n'+newdata["评估完成率"], max: 100, color:'#ffb980'},
                        { name: '评估通过率\n'+newdata["评估通过率"], max: 100, color:'#d87a80'},
                        { name: '工单规范率\n'+newdata["工单规范率"], max: 100,color:'#626c91'},
                        { name: '目标完成率\n'+newdata["派单目标完成率"], max: 100, color:'#dc69aa'}
                    ],
                    center: ["50%", "60%"]
                },
                series: [{
                    name: '工单分布',
                    type: 'radar',
                    itemStyle: {normal: {areaStyle: {type: 'default',opacity: 0.5 }}},
                    data : [
                        {
                            value : [20,60,30, 40,80,90,],
                            name : '项目完成情况'
                        }
                    ]
                }]
            };
            chart2.setOption(option);
            
        },
        chart1(){
            var chart1 = echarts.init($("#echart1")[0]);
			let option = {
                title : {
                    text: '小区健康度',
                    x:'center',
                    bottom:"15",
                    textStyle:{
                        fontSize:12,
                        fontWeight: 'normal',
                    }
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    left: '15',
                    top:'15',
                    data: ['健康等级A','健康等级B','健康等级C','健康等级D'],
                },
                color:['#9FE6B8','#32C5E9','#FFDB5C','#FFAE8B'],
                series : [
                    {
                        name: '健康度',
                        type: 'pie',
                        radius : '50%',
                        data:[
                            {value:335, name:'健康等级A'},
                            {value:310, name:'健康等级B'},
                            {value:234, name:'健康等级C'},
                            {value:135, name:'健康等级D'},
                        ],
                        
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
			};
            chart1.setOption(option)
            //窗口变动，表格刷新
			 $(window).resize(function(){chart1.resize();});
        },
        
        chart2(){
            var chart2 = echarts.init($("#echart2")[0]);
			let option = {
                title : {
                    text: '故障分类',
                    x:'center',
                    bottom:"15",
                    textStyle:{
                        fontSize:12,
                        fontWeight: 'normal',
                    }
                },
                color:['#32C5E9','#FFDB5C','#FFAE8B','#9FE6B8'],
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b}: {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    x: '15',
                    y:'15',
                    data:['干路故障','合路故障','支路故障','无故障']
                },
                series: [
                    {
                        name:'故障分类',
                        type:'pie',
                        radius: ['30%', '55%'],
                        data:[
                            {value:335, name:'干路故障'},
                            {value:310, name:'合路故障'},
                            {value:234, name:'支路故障'},
                            {value:135, name:'无故障'},
                        ]
                    }
                ]
			};
            chart2.setOption(option)
			 $(window).resize(function(){chart2.resize();});
        },
        chart3(){
          var chart3 = echarts.init($("#echart3")[0]);
			    let option = {
            title : {
                text: '导入数据和解析数据的信息',
                x:'center',
                textStyle:{
                    fontSize:12,
                    fontWeight: 'normal',
                },
                bottom:15
            },
            tooltip: {},
            legend: {
                orient: 'vertical',
                left: '15',
                top: '15',
                data: ['数量分布'],
            },
            color:["#32C5E9"],
            radar: {
                // shape: 'circle',
                name: {
                    textStyle: {
                        color: '#1784bd',
                        padding:-10,
                    }
                },
                radius:"60%",
                indicator: [
                    { name: '宏站小区\n(36731)', max: 48527},
                    { name: '室分小区\n(11796)', max: 48527},
                    { name: '有效分析小区\n(8459)', max: 48527},
                    { name: '良好覆盖率小区\n(6297)', max: 48527},
                    { name: 'MRS数据缺失小区\n(3337)', max: 48527},
                    { name: '差覆盖小区\n(2157)', max: 48527},
                    { name: 'MRS数据异常小区\n(5)', max: 48527},
                ]
            },
            series: [{
                name: '导入数据和解析数据的信息',
                type: 'radar',
                // areaStyle: {normal: {}},
                data : [
                    {
                        value : [36731, 11796, 8459, 6297,3337,2157,5],
                        name : '数量分布'
                    }
                ]
            }] 
			   };
            chart3.setOption(option)
			 $(window).resize(function(){chart3.resize();});
        },
        chart4(){
            var chart4 = echarts.init($("#echart4")[0]);
			let option = {
                title : {
                    text: '问题细分',
                    x:'center',
                    textStyle:{
                        fontSize:12,
                        fontWeight: 'normal',
                    },
                    bottom:15
                },
                color: ['#3398DB'],
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    top:"5%",
                    containLabel: true
                },
                xAxis : [
                {
                        type : 'value',
                        splitLine: {lineStyle:'none'},
                    }
                ],
                yAxis : [
                    {
                        type : 'category',
                        data : ["参数异常小区","受零话务影响小区","故障类小区"],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                    
                ],
                series : [
                    {
                        name:'问题细分',
                        type:'bar',
                        barWidth: '50%',
                        label: {
                            normal: {
                                show: true
                            }
                        },
                        data:[838, 2157, 1947],
                    }
                ]
			};
            chart4.setOption(option)
            //窗口变动，表格刷新
			 $(window).resize(function(){chart4.resize();});
        },
        chart5(){
            var chart5 = echarts.init($("#echart5")[0]);
			let option = {
                title : {
                    text: '室内小区全网MRS分布情况',
                    x:'center',
                    textStyle:{
                        fontSize:12,
                        fontWeight: 'normal',
                    },
                    bottom:15
                },
                color: ['#3398DB'],
                tooltip : {
                    trigger: 'axis',
                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                    },
                    formatter: "{a} <br/>{b}覆盖率"
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    top:"5%",
                    containLabel: true
                },
                xAxis : [
                    {
                        type : 'category',
                        data : ["[100~90]%","(90~80]%","(80~70]%","(70~60]%","(60~50]%","(50~0]%"],
                        axisTick: {
                            alignWithLabel: true
                        }
                    }
                
                ],
                yAxis : [
                    {
                        type : 'value',
                        splitLine: {lineStyle:'none'},
                    }
                ],
                series : [
                    {
                        name:'分布情况',
                        type:'bar',
                        barWidth: '50%',
                        label: {
                            normal: {
                                show: true,
                                position: 'top'
                            }
                        },
                        data:[838, 2157, 1947,856,1567,125],
                    }
                ]   
			};
            chart5.setOption(option)
            $(window).resize(function(){chart5.resize();});
        },
        chart6(){
            var chart6 = echarts.init($("#echart6")[0]);
			let option = {
                title : {
                    text: '预判结果呈现',
                    x:'center',
                    textStyle:{
                        fontSize:12,
                        fontWeight: 'normal',
                    },
                    bottom:15
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                color:['#9FE6B8','#32C5E9','#FFDB5C','#FFAE8B'],
                legend: {
                    orient: 'vertical',
                    left: '15',
                    top: '15',
                    data: ['良好小区','预防小区','隐患小区']
                },
                calculable : true,
                series : [
                    {
                        name:'预判结果呈现',
                        type:'pie',
                        radius: ['20%', '60%'],
                        roseType : 'area',
                        data:[
                            {value:15, name:'良好小区'},
                            {value:5, name:'预防小区'},
                            {value:10, name:'隐患小区'},
                        ]
                    }
                ] 
			};
            chart6.setOption(option)
            $(window).resize(function(){chart6.resize();});
        },
        chart7(){
            var chart7 = echarts.init($("#echart7")[0]);
			let option = {
			    title: {
			        text: '世界人口总量',
			        subtext: '数据来自网络'
			    },
			    tooltip: {
			        trigger: 'axis',
			        axisPointer: {
			            type: 'shadow'
			        }
			    },
			    legend: {
			        data: ['2011年',"2012年"],
			    },
			    grid: {
			        left: '3%',
			        right: '4%',
			        bottom: '3%',
			        containLabel: true
			    },
			    yAxis: {
			        type: 'value',
			        boundaryGap: [0, 0.01],
			    },
			    xAxis: {
			        type: 'category',
			        data: ['弱覆盖','室分外泄', '疑似天馈接反', '主瓣过弱', '上瓣过强', '后瓣过强 ', '水平旁瓣过强','高干扰','性能劣化','上瓣过强(MRO)','水平旁瓣过强(MRO)','后瓣过强(MRO)','主瓣过弱(MRO)','天线波瓣异常'],
			    	axisLabel:{
		    			interval:0,
		    			rotate:40,
			    	},
			    },
			    series: [
			        {
			            name: '2011年',
			            type: 'bar',
			            data: [18, 0, 29, 104, 131, 630,56,52,15,0,9,90,70,99],
			            barCategoryGap:"30%",
			            barGap:"10%",
			        	label: {
		                    show: true,
		                    position: 'top'
			            },
			        },
			      	{
			            name: '2012年',
			            type: 'bar',
			            data: [23, 31, 121, 134, 681,56,52,15,90,80,77,88,33],
			        	barCategoryGap:"30%",
			        	barGap:"10%",
			        	label: {
		                    show: true,
		                    position: 'top'
			            },
			        }
			    ]
			};
            chart7.setOption(option)
            $(window).resize(function(){chart7.resize();});
        },
    };
    echartDemo.init()


</script>