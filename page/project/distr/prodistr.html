<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
</head>
<body class="bg-gray">
		<div class="p-md animated fadeInRight">
			<div class="row">
				<div class="col-md-12">
					<div class="panel panel-white">
						<div class="panel-heading">
							<div class="panel-title">
								工单分配
                            </div>          
							<div class="panel-tools">
	                            <a class="collapse-link" data-toggle="collapse"  href="#panelContent">
	                                <i class="fa fa-chevron-up"></i>
	                            </a>
	                        </div>
                        </div>
                        <div class="panel-body collapsed in" id="panelContent">
                            <form id="search" class="form-inline fz12 fl">
                                <div class="form-group m-r">
									<label class=" fw-n" style=" float: left;padding-top:10px;">项目名称					
									</label>
			        				<div class="col-sm-10">
										<select name="casting" class="form-control chosen-select" >
											<option value="">--请选择--</option>
											<option value="市优化网格组员">市优化网格组员</option>
											<option value="市优化现场实施人员">市优化现场实施人员</option>   
										</select> 
			        				</div>
                                </div>
                                    <div class="form-group space-15">
                                    <label class="fw-n">工号
                                        <input type="text" placeholder="请输入用户名" name="name" class="form-control">
									</label>
                                </div>
                                <div class="form-group m-b-xs">
                                    <input class="btn btn-default btn-sm js_search m-r-sm" type="button" value="查询">
                                    <input class="btn btn-default btn-sm" onclick="reset()" type="button" value="重置">
                                </div>
                            </form>
                            <!--search start-->
                            <div class="panel-body collapsed in" id="panelContent">
                                <!--操作工具栏-->
                                <table id="table"></table>
                            </div>                           
                        </div>

					</div>
				</div>
			</div>
		</div>
<script>
	var role_name;//全局变量
		//业务
		var role={
			init:function(){
				//this.list();
				//角色列表
				this.table1_list();
			},
			table1_list() {
				rj.table.init({
					id: "#table",
					toolbar: "#toolbar",
					data: [
						{
							"pro_name": 'ddd',
							"user_name": "JONE",
							"job_name": "33366",
							"account": "22255",
							"amount_work": 202,
							"type_work": "方案库终端",
						},
						{
							"pro_name": '工单健康',
							"user_name": "李思思",
							"job_name": "22333",
							"account": "22255",
							"amount_work": 202,
							"type_work": "方案库终端",
						},
						
					],
					columns: [
						{
							field: 'pro_name',
							title: '项目'
						}, {
							field: 'user_name',
							title: '用户名称',
						}, {
							field: 'job_name',
							title: '工号',
						}, {
							field: 'account',
							title: '接受账号'
						}, {
							field: 'amount_work',
							title: '已接工单量'
						}, {
							field: 'type_work',
							title: '工单类型',	
						}
					],
				})
			},
			addOrUpdate:function(title,id)
			{
				var $this=this;
				rj.modal(
					title,
					id==undefined?"page/sys/role/addOrUpdate.html?opt=add":("page/sys/role/addOrUpdate.html?opt=update"),
					()=>{
						//初始化插件
						rj.resetPlug();	
						//菜单配置下拉框
						var zNodes1 =[
							{id:4, pId:0, name:"项目管理"},
							{id:41, pId:4, name:"项目管理"},
							{id:5, pId:0, name:"系统管理"},
							{id:51, pId:5, name:"角色管理"},
							{id:52, pId:5, name:"用户管理"},
							{id:53, pId:5, name:"菜单管理"},
							{id:54, pId:5, name:"权限管理"},
							{id:6, pId:0, name:"首页"},
						 ];
						 rj.ztree("ztreeCheckbox","#ztree3",zNodes1);

					},
					(dom)=>{
						$("#addOrUpdate").validate({
							//验证表单
							rules: {
					            roleName: {
					                required: true,
					            },
					            authIds: {
					                required: true,
					            },
					        },
					        submitHandler: function () {
								$(".js_close").trigger("click");
					        }
					    });
					}
				);
			
			},
			list:function(){
				rj.table.init({
					id:"#table",
					toolbar:"#toolbar",
					queryParams:function(params) {
						//将查询格式化
			            return{
				            pageSize:params.limit,
				          //  pageNum:(params.offset+params.limit)/params.limit,
				          	pageNum : params.offset,
				          	pageNo : params.offset, // 页码
				            sortName:params.sort,//这里是读取sortName配置选项
				            sortOrder:params.order,//默认是desc
			            }
		           },
				   columns: [
						{
							field: 'pro_name',
							title: '项目'
						}, {
							field: 'user_name',
							title: '用户名称',
						}, {
							field: 'job_name',
							title: '工号',
						}, {
							field: 'account',
							title: '接受账号'
						}, {
							field: 'amount_work',
							title: '已接工单量'
						}, {
							field: 'type_work',
							title: '工单类型',	
						}
					],
				});
			},
			_flush:function(){
				$("#table").bootstrapTable('refresh');
			},
		}
		role.init();
</script>
</body
</html>