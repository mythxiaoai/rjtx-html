<div class="p-m js_info_content">
    <div class="panel panel-white">
        <div class="panel-heading"><div class="panel-title">任务信息库</div></div>
        <div class="panel-body collapsed in ">
            <div class="col-md-12">
                <form class="form-inline fz12 clearfix">
                    <div class="form-group">
                        <label class="fw-n">项目
                            <select class="form-control" name="project">
                                <option value="">--请选择--</option>
                                <option value="1">广州项目</option>
                                <option value="2">深圳项目</option>
                            </select>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="fw-n">任务名称
                            <input type="text" class="form-control" name="taskname"/>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="fw-n">任务类型
                            <select class="form-control" name="type">
                                <option value="">--请选择--</option>
                                <option value="1">状态库低端</option>
                                <option value="2">方案库中端</option>
                            </select>
                        </label>
                    </div>
                    <div class="form-group">
                        <input class="btn btn-default btn-sm js_tasksearch m-r-sm" type="button" value="查询">
                        <input class="btn btn-default btn-sm" onclick="reset()" type="button" value="重置">
                    </div>
                </form>
                <div class="row m-t">
                    <div class="col-md-12">
                        <ul class="nav nav-tabs"> 
                            <li class="active"><a href="#tasktab1" data-toggle="tab">新增任务</a></li>
                            <li><a href="#tasktab2" data-toggle="tab">审核任务</a></li>
                            <li><a href="#tasktab3" data-toggle="tab">评审任务</a></li>
                        </ul>
                        <div class="tab-content">
                            <button onclick="information.addOrUpdate('新增任务')" type="button" class="btn btn-default  m-t btn-md"><i class="iconfont icon-add"></i> 新增</button>
                            
                            <div class="form-group m-b-xs  m-t pull-right">
                                <button type="button" class="btn btn-default m-r">任务模板下载
                                    <i class="iconfont icon-xiazai"></i> 
                                </button>
                                <button type="button" class="btn btn-default">上传任务
                                    <i class="iconfont icon-shangchuan "></i> 
                                </button>
                            </div>
                            <div class="tab-pane fade in active" id="tasktab1">
                                <table id="table1"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<script>
    var information = {
        init(){
            this.tab1_table();
        },
        addOrUpdate(title,id){
            //新增 page/task/jobmanager/addOrUpdate.html
            rj.load(".js_info_content","page/task/jobmanager/addOrUpdate.html");
        },
        tab1_table(){
            rj.table.init({
                id:"#table1",
                pagination: true, //分页
                sidePagination: "client", //服务端处理分页
                pageNumber:1, // 默认显示第几页
                pageSize: 10, // 每页显示条数  
                data: [
                    {
                       "id":0,
                       "name": "每日指标通报",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 1
                    },
                    {
                       "id":1,
                       "name": "阿打算打算打算多",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 0
                    },
                    {
                       "id":2,
                       "name": "每日指标通报",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 0
                    },
                    {
                       "id":3,
                       "name": "每日指标通报",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 0
                    },
                    {
                       "id":4,
                       "name": "每日指标通报",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 1
                    },
                    {
                       "id":5,
                       "name": "每日指标通报",
                       "attribute":  "实时任务",
                       "type": "日常任务",
                       "limittime": "2019-01-11 18:00:00",
                       "createtime": "2019-11-11 12:10:30",
                       "integral": 10,
                       "auditresu": 1
                    }
                    
                ],
                columns: [
                    {
						field: 'id',
                        title: 'id',
                        sortable:true
                    },
                    {
						field: 'name',
						title: '任务名称',
                        sortable:true
                    },
                    {
						field: 'attribute',
						title: '任务属性',
                        sortable:true
                    },
                    {
						field: 'type',
						title: '任务类型',
                        sortable:true
                    },
                    {
						field: 'limittime',
						title: '处理时限',
                        sortable:true
                    },
                    {
						field: 'createtime',
						title: '创建时间',
                        sortable:true
                    },
                    {
						field: 'integral',
						title: '积分任务',
                        sortable:true
                    },
                    {
						field: 'auditresu',
						title: '审核结果',
                        sortable:true,
                        formatter: function(value,row,index) {
                            if(value == 0){
                                return `<span class="text-success">通过</span>`
                            }else{
                                return `<span class="text-danger">不通过</span>`
                            }
                        }
					}
                ]
            })
        }
    };
    information.init();
</script>
<style>

</style>